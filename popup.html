<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My-Ex Hub</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/auth.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/modals.css">
  <link rel="stylesheet" href="css/todos.css">
  <link rel="stylesheet" href="css/expenses.css">
  <link rel="stylesheet" href="css/courses.css">
</head>

<body>
  <!-- Auth Screen -->
  <div id="authScreen" class="screen">
    <div class="auth-container">
      <div class="logo">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
          <rect width="40" height="40" rx="8" fill="url(#gradient)" />
          <path d="M12 20L18 26L28 14" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
          <defs>
            <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
              <stop offset="0%" stop-color="#667eea" />
              <stop offset="100%" stop-color="#764ba2" />
            </linearGradient>
          </defs>
        </svg>
        <h1>My-Ex Hub</h1>
      </div>

      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Login</button>
        <button class="auth-tab" data-tab="register">Register</button>
      </div>

      <!-- Login Form -->
      <form id="loginForm" class="auth-form">
        <div class="input-group">
          <input type="email" id="loginEmail" placeholder="Email" required>
        </div>
        <div class="input-group">
          <input type="password" id="loginPassword" placeholder="Password" required>
        </div>
        <button type="submit" class="btn-primary">Login</button>
      </form>

      <!-- Register Form -->
      <form id="registerForm" class="auth-form hidden">
        <div class="input-group">
          <input type="text" id="registerName" placeholder="Full Name" required>
        </div>
        <div class="input-group">
          <input type="email" id="registerEmail" placeholder="Email" required>
        </div>
        <div class="input-group">
          <input type="password" id="registerPassword" placeholder="Password" required>
        </div>
        <button type="submit" class="btn-primary">Register</button>
      </form>

      <div id="authError" class="error-message hidden"></div>
    </div>
  </div>

  <!-- Main App Screen -->
  <div id="appScreen" class="screen hidden">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <svg width="24" height="24" viewBox="0 0 40 40" fill="none">
          <rect width="40" height="40" rx="8" fill="url(#gradient2)" />
          <path d="M12 20L18 26L28 14" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
          <defs>
            <linearGradient id="gradient2" x1="0" y1="0" x2="40" y2="40">
              <stop offset="0%" stop-color="#667eea" />
              <stop offset="100%" stop-color="#764ba2" />
            </linearGradient>
          </defs>
        </svg>
        <span class="user-name" id="userName">User</span>
      </div>
      <div class="header-right">
        <button id="themeToggle" class="icon-btn" title="Toggle Theme">
          <svg class="theme-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </button>
        <button id="logoutBtn" class="icon-btn" title="Logout">
          <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
          </svg>
        </button>
      </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="nav-tabs">
      <button class="nav-tab active" data-view="todos">
        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
        </svg>
        <span>Todos</span>
      </button>
      <button class="nav-tab" data-view="expenses">
        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1" />
        </svg>
        <span>Expenses</span>
      </button>
      <button class="nav-tab" data-view="courses">
        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
        <span>Courses</span>
      </button>
    </nav>

    <!-- Content Area -->
    <main class="content">
      <!-- Todos View -->
      <div id="todosView" class="view active">

        <!-- Search Bar -->
        <div class="search-bar">
          <div class="search-input-wrapper">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <input type="text" id="searchInput" placeholder="Search tasks, tags...">
          </div>
          <button id="addTodoBtn" class="btn-icon-primary" title="Add new task">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          </button>
        </div>

        <!-- Filter Chips -->
        <div class="filter-chips">
          <button class="chip active" data-filter="all">All</button>
          <button class="chip" data-filter="pending">Pending</button>
          <button class="chip" data-filter="completed">Completed</button>
          <button class="chip" data-filter="high-priority">High Priority</button>
          <button class="chip" data-filter="today">Today</button>
          <button class="chip" data-filter="recurring">Recurring</button>
        </div>

        <!-- Tasks List -->
        <div id="todosList" class="list-container">
          <div class="loading">Loading tasks...</div>
        </div>
      </div>

      <!-- Enhanced Modal -->
      <div id="modalOverlay" class="modal-overlay hidden">
        <div class="modal" id="modal">
          <div class="modal-header">
            <h3 id="modalTitle">Modal</h3>
            <button id="closeModal" class="icon-btn" title="Close">
              <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
          <div class="modal-body" id="modalBody">
            <!-- Dynamic content will be inserted here -->
          </div>
        </div>
      </div>

      <!-- Expenses View -->
      <div id="expensesView" class="view">
        <!-- Search Bar (similar to todos) -->
        <div class="search-bar">
          <div class="search-input-wrapper">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <input type="text" id="expenseSearchInput" placeholder="Search amount, category, tags...">
          </div>
          <button id="addExpenseBtn" class="btn-icon-primary" title="Add expense">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          </button>
        </div>

        <!-- Filter Chips -->
        <!-- <div class="filter-chips expense-filters">
          <button class="chip active" data-filter="all">All Time</button>
          <button class="chip" data-filter="today">Today</button>
          <button class="chip" data-filter="week">This Week</button>
          <button class="chip" data-filter="month">This Month</button>
        </div> -->

        <!-- Stats Dashboard -->
        <div class="expense-stats-dashboard">
          <div class="stats-row">
            <div class="stat-card-mini">
              <div class="stat-icon stat-icon-month">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              </div>
              <div class="stat-content">
                <div class="stat-label">This Month</div>
                <div class="stat-value" id="monthlyExpense">â‚¹0</div>
              </div>
            </div>
            <div class="stat-card-mini">
              <div class="stat-icon stat-icon-today">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div class="stat-content">
                <div class="stat-label">Today</div>
                <div class="stat-value" id="todayExpense">â‚¹0</div>
              </div>
            </div>
          </div>

          <!-- Category Chart -->
          <div class="expense-chart-container">
            <div class="chart-header">
              <h4>Top Categories (This Month)</h4>
            </div>
            <div id="expenseChart" class="expense-chart">
              <!-- Chart bars will be inserted here -->
            </div>
          </div>
        </div>

        <!-- Expenses List -->
        <div id="expensesList" class="list-container">
          <div class="loading">Loading expenses...</div>
        </div>
      </div>

      <!-- Courses View -->
      <div id="coursesView" class="view">
        <div class="view-header">
          <h2>My Courses</h2>
          <button id="addCourseBtn" class="btn-icon-primary">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          </button>
        </div>
        <div id="coursesList" class="list-container">
          <div class="loading">Loading courses...</div>
        </div>
      </div>

    </main>
  </div>

  <!-- Modal Container -->
  <div id="modalOverlay" class="modal-overlay hidden">
    <div class="modal" id="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Modal</h3>
        <button id="closeModal" class="icon-btn">
          <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Dynamic content -->
      </div>
    </div>
  </div>

  <script src="config.js"></script>
  <script src="api.js"></script>
  <script src="ui.js"></script>
  <script src="popup.js"></script>
</body>

</html>